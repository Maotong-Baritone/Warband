/* Card Play Animations */
.anim-card-play-atk {
    animation: cardPlayAtk 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}
@keyframes cardPlayAtk {
    0% { transform: var(--start-transform); opacity: 1; }
    20% { transform: scale(1.1) translateY(-20px); opacity: 1; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    50% { transform: scale(1.2) translateY(-60px) rotate(5deg); opacity: 1; }
    100% { transform: scale(0.8) translateY(-400px) rotate(10deg); opacity: 0; }
}

.anim-card-play-skill {
    animation: cardPlaySkill 0.8s ease-out forwards;
}
@keyframes cardPlaySkill {
    0% { transform: var(--start-transform); filter: brightness(1); opacity: 1; }
    50% { transform: scale(1.15) translateY(-40px); filter: brightness(1.5) drop-shadow(0 0 25px #4dabf7); opacity: 0.9; }
    100% { transform: scale(1.3) translateY(-80px); filter: brightness(2); opacity: 0; }
}

.anim-card-play-power {
    animation: cardPlayPower 1s ease-out forwards;
}
@keyframes cardPlayPower {
    0% { transform: var(--start-transform); }
    15% { transform: scale(1.1) rotate(3deg); }
    30% { transform: scale(1.1) rotate(-3deg); }
    45% { transform: scale(1.2) translateY(-30px); filter: sepia(1) hue-rotate(-50deg) saturate(2) brightness(1.5); box-shadow: 0 0 50px rgba(255,0,0,0.6); }
    100% { transform: scale(1.5) translateY(-100px); opacity: 0; }
}

/* Enemy Generic Animations */
.anim-enemy-atk {
    animation: enemyDashLeft 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes enemyDashLeft {
    0% { transform: translateX(0); }
    30% { transform: translateX(calc(var(--attack-dist, -100px) * -0.6)) skewX(-15deg); }
    45% { transform: translateX(calc(var(--attack-dist, -100px) * -1.0)); } /* Hit point */
    100% { transform: translateX(0); }
}

/* Ally Hit Reaction */
.anim-ally-hit {
    animation: allyHit 0.4s ease-out;
}
@keyframes allyHit {
    0% { transform: translateX(0); filter: brightness(1); }
    10% { transform: translateX(-8px) rotate(-3deg); filter: brightness(2) sepia(1) hue-rotate(-50deg) saturate(3); } /* Red flash */
    30% { transform: translateX(6px) rotate(3deg); }
    50% { transform: translateX(-4px); }
    70% { transform: translateX(2px); }
    100% { transform: translateX(0); filter: brightness(1); }
}

/* Specific Enemy Animations (Placeholders - restoring movement at least) */
.anim-knight-attack, .anim-dancer-attack, .anim-demon-cast, .anim-bayinhe-attack, .anim-choir-attack, .anim-slime-atk {
    animation: enemyDashLeft 0.8s ease-in-out;
    /* Note: In a full implementation, these should swap background-images if assets are available */
}

/* Enemy Defend/Buff */
.anim-knight-defend, .anim-demon-buff, .anim-bayinhe-buff {
    animation: enemyBuffJump 0.8s ease-out;
}
@keyframes enemyBuffJump {
    0% { transform: scale(1); filter: brightness(1); }
    50% { transform: scale(1.1) translateY(-20px); filter: brightness(1.3) drop-shadow(0 0 15px gold); }
    100% { transform: scale(1); filter: brightness(1); }
}

/* Arrow Flow */
@keyframes dashFlow {
    to {
        stroke-dashoffset: -10;
    }
}
